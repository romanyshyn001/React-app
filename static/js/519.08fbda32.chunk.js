"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[519],{6169:function(t,e,s){s.r(e),s.d(e,{default:function(){return A}});var n=s(5671),r=s(3144),o=s(136),i=s(7277),a=s(8683),u=s(2791),c="ProfileInfo_description__v4fTW",l=s(4981),p=s(184),d=(u.Component,s(885)),f=function(t){var e=(0,u.useState)(!1),s=(0,d.Z)(e,2),n=s[0],r=s[1],o=(0,u.useState)(t.status),i=(0,d.Z)(o,2),a=i[0],c=i[1];(0,u.useEffect)((function(){c(t.status)}),[t.status]);return(0,p.jsxs)("div",{children:[!n&&(0,p.jsx)("div",{children:(0,p.jsx)("span",{onDoubleClick:function(){r(!0)},children:t.status||"-----"})}),n&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:function(t){c(t.target.value)},onBlur:function(){r(!1),t.updateStatus(a)},autoFocus:!0,value:a})})]})},x=function(t){var e=t.profile,s=t.updateStatus,n=t.status;return e?(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:c,children:[(0,p.jsx)("img",{src:e.photos.large}),(0,p.jsx)(f,{updateStatus:s,status:n})]})}):(0,p.jsx)(l.Z,{})},h=s(6508),m=s(2982),v={postBlock:"MyPosts_postBlock__r8ALc"},j="Post_item__8I1r8",P="Post_images__ZjXMD",g="Post_post__Yj4gM",_=s.p+"static/media/ava.a5c83cb464c2fd133222.png",w=function(t){return(0,p.jsxs)("div",{className:j,children:[(0,p.jsx)("img",{className:P,src:_,alt:"avatar"}),t.message,(0,p.jsx)("div",{children:(0,p.jsxs)("span",{children:["like ",t.likesCount]})})]})},T=s(2506),Z=s(132),k=function(t){var e=(0,T.TA)({initialValues:{newPostText:""},validationSchema:Z.Ry({newPostText:Z.Z_().max(20,"Maximum 20 characters").min(2,"Minimun characters 2").required("Required")}),onSubmit:function(e,s){var n=s.resetForm;t.onPostChange(e),n("")}});return(0,p.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,p.jsx)("textarea",{id:"newPostText",name:"newPostText",type:"text",value:e.values.newPostText,onChange:e.handleChange}),e.touched.newPostText&&e.errors.newPostText?(0,p.jsx)("div",{className:g,children:e.errors.newPostText}):null,(0,p.jsx)("button",{type:"submit",children:"Add post"})]})},C=u.memo((function(t){var e=(0,m.Z)(t.posts).reverse().map((function(t){return(0,p.jsx)(w,{message:t.message,likesCount:t.likesCount},t.id)}));return(0,p.jsxs)("div",{className:v.postBlock,children:[(0,p.jsx)("h3",{children:"Myposts"}),(0,p.jsx)("div",{children:(0,p.jsx)(k,{onPostChange:function(e){console.log(e.newPostText),t.updateNewPost(e.newPostText)}})}),(0,p.jsx)("div",{className:v.posts,children:e})]})})),S=s(364),y=(0,S.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{updateNewPost:function(e){t((0,h.Qi)(e))}}}))(C),b=function(t){return(0,p.jsxs)("div",{children:[(0,p.jsx)(x,(0,a.Z)({profile:t.profile},t)),(0,p.jsx)(y,{})]})},N=s(6871),M=s(4147),B=s(7781);var q=function(t){(0,o.Z)(s,t);var e=(0,i.Z)(s);function s(){return(0,n.Z)(this,s),e.apply(this,arguments)}return(0,r.Z)(s,[{key:"componentDidMount",value:function(){var t=this.props.router.params.userId;t||(t=22985),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,p.jsx)(b,(0,a.Z)((0,a.Z)({},this.props),{},{profile:this.props.profile}))}}]),s}(u.Component),A=(0,B.qC)((0,S.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status}}),{getUserProfile:h.et,getStatus:h.lR,updateStatus:h.Nf}),(function(t){return function(e){var s=(0,N.TH)(),n=(0,N.s0)(),r=(0,N.UO)();return(0,p.jsx)(t,(0,a.Z)((0,a.Z)({},e),{},{router:{location:s,navigate:n,params:r}}))}}),M.S)(q)}}]);
//# sourceMappingURL=519.08fbda32.chunk.js.map